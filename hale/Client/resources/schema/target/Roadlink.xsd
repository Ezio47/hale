<?xml version="1.0" encoding="UTF-8"?>
<xs:schema xmlns:er="http://www.euroroads.org" xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gdf="http://www.ukusa.org"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" 
    targetNamespace="http://www.euroroads.org" elementFormDefault="qualified" attributeFormDefault="unqualified">
    <xs:annotation>
        <xs:documentation>GML schema definition for the EuroRoadS Network package, version
            1.0</xs:documentation>
    </xs:annotation>

    <!-- Aug 2008 now GML 2.1.2, but had to remove topology (er:edge), 
           and included small gml3 subset for gml:TimePeriodType ('validity' element) 
                   and gml:MeasureType ('roadWidth' element), 
           and changed _Curve to LineString -->

    <xs:import namespace="http://www.opengis.net/gml" schemaLocation="interim.xsd"/>

    <!-- include EuroRoadS Dataset package, version 1.0 -->
    <xs:include schemaLocation="Dataset.xsd"/>

  <!--=======================================================================-->
    <!-- from EuroRoadS BasicTypes package, version 1.0 -->
    <xs:complexType name="ObjectIdType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_ObjectId</xs:documentation>
        </xs:annotation>
        <xs:sequence>
            <xs:element name="permanentId" type="xs:string"/>
            <xs:element name="versionId" type="xs:string" minOccurs="0"/>
            <xs:element name="alternateId" type="xs:string" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="RoadFeatureType" abstract="true">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_RoadFeature</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="gml:AbstractFeatureType">
                <xs:sequence>
                    <xs:element name="id" type="er:ObjectIdType"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:element name="RoadFeature" abstract="true" substitutionGroup="gml:_Feature">
        <xs:annotation>
            <xs:documentation>Root of the ER_RoadFeature substitution group</xs:documentation>
        </xs:annotation>
    </xs:element>


  <!--=======================================================================-->
    <!-- from EuroRoadS AttributeBase package, version 1.0 -->

    <xs:complexType name="RoadAttributeType" abstract="true">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_RoadAttribute</xs:documentation>
        </xs:annotation>
        <xs:sequence>
            <xs:element name="validity" type="gml:TimePeriodType" minOccurs="0"/>
        </xs:sequence>
    </xs:complexType>
    <xs:element name="RoadAttribute" type="er:RoadAttributeType" abstract="true"/>

    <xs:complexType name="RoadLinkAttributeType" abstract="true">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class
                ER_RoadLinkAttribute</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadAttributeType"/>
        </xs:complexContent>
    </xs:complexType>
    <xs:element name="RoadLinkAttribute" type="er:RoadLinkAttributeType" abstract="true"
        substitutionGroup="er:RoadAttribute"/>


 
    <!--=======================================================================-->
    <!--Road name, D6.5 - 13.18         (is from -->
    <!--=======================================================================-->
    <xs:complexType name="RoadNameType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_RoadName</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadLinkAttributeType">
                <xs:sequence>
                    <xs:element name="roadName1" type="xs:string" minOccurs="0"/>
                    <xs:element name="roadName2" type="xs:string" minOccurs="0"/>
                    <xs:element name="alternativeRoadName" type="xs:string" minOccurs="0"/>
                    <xs:element name="leftStreetName1" type="xs:string" minOccurs="0"/>
                    <xs:element name="rightStreetName1" type="xs:string" minOccurs="0"/>
                    <xs:element name="leftStreetName2" type="xs:string" minOccurs="0"/>
                    <xs:element name="rightStreetName2" type="xs:string" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    <xs:element name="RoadName" type="er:RoadNameType" substitutionGroup="er:RoadLinkAttribute"/>

    <xs:simpleType name="RoadSurfaceValueType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class
                ER_RoadSurfaceValue</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:enumeration value="Paved"/>
            <xs:enumeration value="Unpaved"/>
        </xs:restriction>
    </xs:simpleType>

    <!--=======================================================================-->
    <xs:complexType name="RoadSurfaceType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_RoadSurface</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadLinkAttributeType">
                <xs:sequence>
                    <xs:element name="roadSurface" type="er:RoadSurfaceValueType" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    <xs:element name="RoadSurface" type="er:RoadSurfaceType" substitutionGroup="er:RoadLinkAttribute"/>

    <xs:complexType name="NumberOfLanesType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_NumberOfLanes</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadLinkAttributeType">
                <xs:sequence>
                    <xs:element name="numberOfLanes" type="er:NumberOfLanesTypeType" minOccurs="0"/>
                    <xs:element name="direction" type="er:DirectionValuesType" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    <xs:element name="NumberOfLanes" type="er:NumberOfLanesType"
        substitutionGroup="er:RoadLinkAttribute"/>
    <xs:simpleType name="MinMaxLanesType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_MinMaxLanes</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:enumeration value="Minimum"/>
            <xs:enumeration value="Maximum"/>
            <xs:enumeration value="Average"/>
        </xs:restriction>
    </xs:simpleType>
    <!--=======================================================================-->
    <xs:complexType name="NumberOfLanesTypeType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_NumberOfLanes</xs:documentation>
        </xs:annotation>
        <xs:sequence>
            <xs:element name="numberOfLanes" type="xs:integer"/>
            <xs:element minOccurs="0" name="minMaxNumberOfLanes" type="er:MinMaxLanesType"/>
        </xs:sequence>
    </xs:complexType>
    <xs:simpleType name="DirectionValuesType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_DirectionValues</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:enumeration value="Positive"/>
            <xs:enumeration value="Negative"/>
            <xs:enumeration value="Both"/>
            <xs:enumeration value="None"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:complexType name="RoadWidthType">
        <xs:annotation>
            <xs:documentation>GML definition of the EuroRoadS class ER_RoadWidth</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadLinkAttributeType">
                <xs:sequence>
                    <xs:element name="roadWidth" type="gml:MeasureType" minOccurs="0"/>
                    <!--xs:element name="roadWidth" type="xs:string" minOccurs="0"/-->

                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>
    <xs:element name="RoadWidth" type="er:RoadWidthType" substitutionGroup="er:RoadLinkAttribute"/>

  <!--=======================================================================-->
    <!-- from EuroRoadS Network package, version 1.0 -->

    <xs:complexType name="RoadLinkType">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class
                ER_RoadLink</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadnetLinkType">
                <xs:sequence>
                    <xs:element name="formOfWay" type="er:FormOfWayType"/>
                    <xs:element name="functionalRoadClass" type="er:FunctionallRoadClassType"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:element name="RoadLink" type="er:RoadLinkType" substitutionGroup="er:RoadnetLink">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS ER_RoadLink
                class</xs:documentation>
        </xs:annotation>
    </xs:element>

    <xs:complexType name="RoadnetLinkType" abstract="true">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class
                ER_RoadnetLink</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadnetElementType">
                <xs:sequence>
                    <xs:element name="validity" type="gml:TimePeriodType" minOccurs="0"/>
                    <xs:element name="curve" minOccurs="0">
                        <xs:complexType>
                            <xs:sequence>
                                <!--xs:element ref="gml:_Curve"/-->
                                <xs:element ref="gml:LineString"/>

                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>
                    <!--xs:element name="edge" minOccurs="0">
                        <xs:complexType>
                            <xs:sequence>
                                <xs:element ref="er:Edge"/>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element-->
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:element name="RoadnetLink" type="er:RoadnetLinkType" abstract="true"
        substitutionGroup="er:RoadnetElement">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS ER_RoadnetLink class. Root element
                of the ER_RoadnetLink substitution group</xs:documentation>
        </xs:annotation>
    </xs:element>

    <xs:complexType name="RoadnetElementType" abstract="true">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class
                ER_RoadnetElement</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="er:RoadFeatureType">
                <xs:sequence>
                    <xs:element name="attributes" minOccurs="0">
                        <xs:complexType>
                            <xs:sequence>
                                <xs:element ref="er:RoadAttribute" maxOccurs="unbounded"/>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>
                    <xs:element name="alternateGeometry" minOccurs="0">
                        <xs:complexType>
                            <xs:sequence>
                                <xs:element ref="gml:_Geometry"/>
                            </xs:sequence>
                        </xs:complexType>
                    </xs:element>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:element name="RoadnetElement" type="er:RoadnetElementType" abstract="true"
        substitutionGroup="er:RoadFeature">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS ER_RoadnetElement class. Root
                element of the ER_RoadnetElement substitution group</xs:documentation>
        </xs:annotation>
    </xs:element>


    <xs:complexType name="RoadnetLinkPropertyType">
        <xs:annotation>
            <xs:documentation>GML property type definition for RoadnetLinkType</xs:documentation>
        </xs:annotation>
        <xs:sequence>
            <xs:element ref="er:RoadnetLink" minOccurs="0"/>
        </xs:sequence>
        <xs:attributeGroup ref="gml:AssociationAttributeGroup"/>
    </xs:complexType>


    <!--xs:complexType name="EdgeType">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class ER_Edge</xs:documentation>
        </xs:annotation>
        <xs:complexContent>
            <xs:extension base="gml:EdgeType">
                <xs:sequence>
                    <xs:element name="roadnetLink" type="er:RoadnetLinkPropertyType" minOccurs="0"/>
                </xs:sequence>
            </xs:extension>
        </xs:complexContent>
    </xs:complexType>

    <xs:element name="Edge" type="er:EdgeType" substitutionGroup="gml:_TopoPrimitive"/-->

    <xs:simpleType name="FormOfWayType">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class
                ER_FormOfWay</xs:documentation>
        </xs:annotation>
        <xs:union memberTypes="er:FormOfWayEnumerationType er:FormOfWayOtherType"/>
    </xs:simpleType>
    <xs:simpleType name="FormOfWayEnumerationType">
        <xs:restriction base="xs:string">
            <xs:enumeration value="1">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">BicycleRoad</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="2">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">DualCarriageway</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="3">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">EnclosedTrafficArea</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="4">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">EntranceOrExitCarPark</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="5">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">EntranceOrExitService</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="6">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Freeway</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="7">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Motorway</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="8">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">PedestrianZone</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="9">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Roundabout</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="10">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">ServiceRoad</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="11">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">SingleCarriageway</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="12">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">SlipRoad</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="13">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Tractor</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="14">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">TrafficSquare</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="15">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Walkway</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="99">
                <xs:annotation>
                    <xs:appinfo source="urn:x-gml:codelistValue">Unknown</xs:appinfo>
                </xs:annotation>
            </xs:enumeration>
            <xs:enumeration value="Bicycle"/>
            <xs:enumeration value="DualCarriageway"/>
            <xs:enumeration value="EnclosedTrafficArea"/>
            <xs:enumeration value="EntranceOrExitCarPark"/>
            <xs:enumeration value="EntranceOrExitService"/>
            <xs:enumeration value="Freeway"/>
            <xs:enumeration value="Motorway"/>
            <xs:enumeration value="PedestrianZone"/>
            <xs:enumeration value="Roundabout"/>
            <xs:enumeration value="ServiceRoad"/>
            <xs:enumeration value="SingleCarriageway"/>
            <xs:enumeration value="SlipRoad"/>
            <xs:enumeration value="Tractor"/>
            <xs:enumeration value="TrafficSquare"/>
            <xs:enumeration value="Walkway"/>
            <xs:enumeration value="Unknown"/>
        </xs:restriction>
    </xs:simpleType>
    <xs:simpleType name="FormOfWayOtherType">
        <xs:restriction base="xs:string">
            <xs:pattern value="other: \w{2,}"/>
        </xs:restriction>
    </xs:simpleType>

    <!--=======================================================================-->
    <xs:simpleType name="FunctionallRoadClassType">
        <xs:annotation>
            <xs:documentation>GML schema definition for the EuroRoadS class
                ER_NationalRoadClass</xs:documentation>
        </xs:annotation>
        <xs:restriction base="xs:string">
            <xs:enumeration value="MainRoad"/>
            <xs:enumeration value="FirstClass"/>
            <xs:enumeration value="SecondClass"/>
            <xs:enumeration value="ThirdClass"/>
            <xs:enumeration value="FourthClass"/>
            <xs:enumeration value="FifthClass"/>
            <xs:enumeration value="SixthClass"/>
            <xs:enumeration value="SeventhClass"/>
            <xs:enumeration value="EighthClass"/>
            <xs:enumeration value="NinthClass"/>
            <xs:enumeration value="Unknown"/>
        </xs:restriction>
    </xs:simpleType>

</xs:schema>





