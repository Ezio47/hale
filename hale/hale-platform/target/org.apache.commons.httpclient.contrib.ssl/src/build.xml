<project name="Httpclient Contrib SSL" default="build">
	<description>
		Httpclient Contrib SSL Build File
	</description>
	
	<property name="src" location="." />
	<property name="build" value="../build" />
	
	<!-- import environment variables -->
	<property environment="env" />
	
	<property name="package" value="org.apache.commons.httpclient.contrib.ssl" />
	<property name="package.dir" value="org/apache/commons/httpclient/contrib/ssl" />
	
	<!-- delete all build files -->
	<target name="clean">
		<delete dir="${build}" />
	</target>
	
	<!-- the main build process -->
	<target name="build" depends="clean">
    <fail unless="env.ECLIPSE_HOME" message="Please set the environment variable ECLIPSE_HOME pointing to your eclipse installation" />
    
    <echo message="${env.ECLIPSE_HOME}" />
	
    <mkdir dir="${build}" />
    
    <!-- find dependencies -->
		<path id="dependencies">
			<fileset dir="${env.ECLIPSE_HOME}/plugins">
				<include name="org.apache.commons.logging_*.jar" />
				<include name="org.apache.commons.httpclient_*.jar" />
			</fileset>
		</path>
	
		<!-- compile java wrapper -->
		<javac srcdir="${src}" destdir="${build}"
			source="1.5" target="1.5"
			includes="${package.dir}/**/*.java"
			classpathref="dependencies" />
		
		<!-- create bundle -->
		<jar destfile="../${package}-1.0.0.jar"
			basedir="${build}"
			includes="${package.dir}/**"
			manifest="${src}/MANIFEST.MF" />
	</target>

</project>
